using Cookie.API.Gamedata;
using Cookie.API.Gamedata.D2o.other;
using Newtonsoft.Json.Linq;
using System;
using System.Collections.Generic;
using System.IO;
using System.Linq;
using System.Net;
using System.Text;
using System.Threading.Tasks;
using treasureHuntHelper;

namespace TreasureHuntHelper.Web
{
    class WebService
    {

        public static void InitDofusHuntValues()
        {
            Console.WriteLine("initiating");
            string dofusHuntValues = "{\"818\":\"Temple Zobal\",\"18\":\"Village de la Canopée\",\"891\":\"Mine Himum\",\"853\":\"Mine Ebbernar\",\"822\":\"Grotte vide Montagne basse des Craqueleurs\",\"859\":\"Souterrains des Dragoeufs 4\",\"617\":\"Continent Amaknien\",\"806\":\"Grotte téléportée Forêt Sombre\",\"808\":\"Mine Astrub 1\",\"849\":\"Tunnel de Kartonpath\",\"835\":\"Map cachée Forêt d'Amakna\",\"795\":\"Grotte Hissoire\",\"810\":\"Mine de Krtek\",\"867\":\"Souterrains Wabbits 5\",\"872\":\"Mine des Wabbits 2\",\"886\":\"Grotte aux Chafers, Forêt d'Astrub\",\"869\":\"Laboratoires abandonnés\",\"809\":\"Mine Astrub 2\",\"887\":\"Grotte aux Chafers, Bois des Arak-haï\",\"858\":\"Souterrains des Dragoeufs 3\",\"700\":\"Xélorium\",\"23\":\"Plaines herbeuses\",\"824\":\"Mine Campement des Gobelins\",\"870\":\"Souterrains Wabbits 7\",\"832\":\"Grotte Hâtive\",\"851\":\"Mine de Ded Aléïcar\",\"852\":\"Égouts de Brâkmar\",\"823\":\"Mine Istairameur\",\"820\":\"Map cachée Village d'Amakna\",\"898\":\"Mine des Dopeuls\",\"884\":\"Mine Montagne des Craqueleurs\",\"786\":\"Grotte Laïne\",\"854\":\"Égouts de Bonta\",\"861\":\"Souterrains Wabbits 1\",\"848\":\"Grotte Territoire des Bandits\",\"794\":\"Incarnam Mine droite\",\"819\":\"Mine Yjupe\",\"635\":\"Incarnam\",\"882\":\"Temple Steamer\",\"15\":\"Amakna\",\"831\":\"Mine Hipouce\",\"793\":\"Incarnam Mine gauche\",\"875\":\"Grotte du Coffre Sombre des Abraknydes\",\"894\":\"Map secrète Plaines de Cania\",\"745\":\"Canyon sauvage : grotte 1\",\"846\":\"Crypte Amakna 5\",\"892\":\"Grotte vide ossements\",\"866\":\"Souterrain des Princes Wabbits\",\"878\":\"Mine Porcos 2\",\"874\":\"Mine du Centre-ville d'Astrub\",\"826\":\"Mine des Bworks 2\",\"856\":\"Souterrains des Dragoeufs 1\",\"841\":\"Jorbak\",\"847\":\"Crypte Amakna 6\",\"825\":\"Mine des Bworks 1\",\"897\":\"Map cachée Lac de Cania\",\"834\":\"Dimension Obscure\",\"821\":\"Mine Auderie\",\"784\":\"Canyon sauvage : grotte 2\",\"827\":\"Mine des Bworks 3\",\"833\":\"Cimetière de l île du Minotoror\",\"873\":\"Souterrains profonds d'Astrub\",\"800\":\"Mine des Dents de Pierre\",\"796\":\"Passage Berceau d'Alma\",\"807\":\"Mine Hable\",\"855\":\"Sanctuaire des Dragoeufs\",\"844\":\"Crypte Amakna 3\",\"817\":\"Passage Montagne des Craqueleurs 2\",\"845\":\"Crypte Amakna 4\",\"814\":\"Grotte vide Montagne des Craqueleurs 2\",\"801\":\"Mine du Lac de Cania\",\"802\":\"Mine du Bois des Arak-haï 1\",\"880\":\"Village de la Canopée\",\"890\":\"Canyon sauvage : grotte 3\",\"828\":\"Grotte du Village des Bworks\",\"792\":\"Sortie Cimetière primitif\",\"829\":\"Prison du Troollaraj\",\"787\":\"Grotte Urie\",\"785\":\"Grotte Arcie\",\"838\":\"Mine Plaine des Scarafeuilles\",\"813\":\"Grotte vide Montagne des Craqueleurs 1\",\"877\":\"Mine Porcos 1\",\"857\":\"Souterrains des Dragoeufs 2\",\"893\":\"Mine Pics de Cania\",\"839\":\"Mine Forêt d'Amakna\",\"883\":\"Sufokia\",\"804\":\"Mine du Bois des Arak-haï 2\",\"16\":\"Incarnam\",\"868\":\"Souterrains Wabbits 6\",\"701\":\"Ecaflipus\",\"888\":\"Salle de réunion secrète\",\"685\":\"Srambad\",\"850\":\"Mine de Bellus Sel\",\"837\":\"Souterrain caché\",\"863\":\"Laboratoire Wabbit\",\"864\":\"Souterrains Wabbits 3\",\"24\":\"Plage de Corail\",\"17\":\"Jungle obscure\",\"842\":\"Crypte Amakna 2\",\"840\":\"Crypte Amakna 1\",\"843\":\"Vampire Dupyr\",\"803\":\"Parcours caché Orée de la forêt des Abraknydes\",\"862\":\"Souterrains Wabbits 2\",\"871\":\"Terrier Wabbit vide\",\"805\":\"Mine cachée Orée de la forêt des Abraknydes\",\"876\":\"Passage Trésor des Mineurs Sombres\",\"815\":\"Passage Montagne des Craqueleurs 1\",\"790\":\"Mine Uskule\",\"679\":\"Enutrosor\",\"797\":\"Mine Maksage\",\"836\":\"Mine Hérale\",\"865\":\"Souterrains Wabbits 4\",\"881\":\"Galeries de Sufokia\",\"791\":\"Passage Trésor des boulangers sombres\",\"879\":\"Labyrinthe du Dragon Cochon\",\"889\":\"Gwotte de Wogew l hewmite\",\"798\":\"Prison Kanigrou\",\"812\":\"Mine des Routes Rocailleuses\",\"895\":\"Mine Plaines de Cania 1\",\"816\":\"Mine Astirite\",\"789\":\"Grottes gelées\",\"896\":\"Mine Plaines de Cania 2\",\"788\":\"Crevasse Perge\",\"885\":\"Grotte aux Mulous, Bois des Arak-haï\",\"860\":\"Mine des Wabbits 1\",\"830\":\"Passage vers Brâkmar\",\"811\":\"Passage vers Routes Rocailleuses\",\"799\":\"Mine des Plaines Rocheuses\",\"691\":\"Champignon luminescent\",\"320\":\"Tas de planches avec une hache\",\"359\":\"Bloc de glace suspendu\",\"224\":\"Squelette d'humanoïde poignardé\",\"945\":\"Canon en bois\",\"176\":\"Bouclier à anneaux\",\"131\":\"Epouvantail\",\"302\":\"Trio de tonneaux\",\"539\":\"Blason Kanigroula\",\"588\":\"Arbre à feuilles trouées\",\"949\":\"Statue d'Ougah\",\"603\":\"Chariot à vapeur\",\"427\":\"Affiche de bateau\",\"695\":\"Porte-manteau\",\"430\":\"Cible d'un archer talentueux\",\"742\":\"Chariot de mineur renversé\",\"35\":\"Statue Sram\",\"223\":\"Squelette d'humanoïde assis\",\"264\":\"Statue Pandawa en chocolat\",\"111\":\"Seau plein\",\"370\":\"Pagure\",\"727\":\"Chaudron\",\"576\":\"Bandeau\",\"346\":\"Machine à vapeur\",\"466\":\"Quintaine épouvantail\",\"782\":\"Statue qui pleure\",\"41\":\"Statue Steamer\",\"283\":\"Tente de Sanglier\",\"673\":\"Coquillage spiralé\",\"389\":\"Cocktail\",\"604\":\"Sac de Kamas\",\"549\":\"Cabane avec toit en toile\",\"573\":\"Couronne du roi Gelax\",\"735\":\"Epée ensanglantée\",\"924\":\"Chacha noir assommé\",\"571\":\"Casque de Maître Nabur\",\"937\":\"Squelette d'humanoïde encordé\",\"181\":\"Paille\",\"932\":\"Borne enfouie\",\"477\":\"Tête de Dragon Cochon\",\"671\":\"Cawotte plantée\",\"678\":\"Cadeau\",\"334\":\"Tube fermé\",\"470\":\"Epée prise dans la neige\",\"946\":\"Ballon crapaud\",\"214\":\"Balai\",\"446\":\"Trappe lumineuse à 9 trous\",\"759\":\"Bougeoir en forme de crâne\",\"600\":\"Fleur bleue\",\"65\":\"Abreuvoir en bois\",\"408\":\"Dessin\",\"605\":\"Sac de Kamas éventré\",\"579\":\"Ecoulement de sève\",\"577\":\"Chapeau à plume\",\"421\":\"Affiche de monstre\",\"175\":\"Bouclier étoilé\",\"950\":\"Statue de champignon\",\"254\":\"Lanterne\",\"731\":\"Cible en forme de maison\",\"763\":\"Charrette à 4 roues\",\"132\":\"Hache\",\"200\":\"Charrette géante en bois pleine\",\"326\":\"Coffres cadenassés superposés\",\"431\":\"Cible d'un archer confirmé\",\"186\":\"Caisse de pain\",\"698\":\"Torche\",\"951\":\"Statue fongique\",\"478\":\"Deux grosses défenses\",\"922\":\"Caisse cassée\",\"506\":\"Panneau 'Bouchers'\",\"926\":\"Tente détruite\",\"534\":\"Masse\",\"482\":\"Entrée malodorante\",\"753\":\"Chariot rempli de charbon\",\"317\":\"Caisse de pêcheur\",\"774\":\"Roue à aube\",\"741\":\"Caisse d'engrenages\",\"479\":\"Groin de dragon\",\"147\":\"Corbac\",\"426\":\"Monstre des profondeurs\",\"369\":\"Voleur de coquille\",\"234\":\"Porte avec quatre troncs\",\"206\":\"Tofu flottant\",\"344\":\"Fumerolle à bulles\",\"100\":\"Citrouille\",\"548\":\"Cabane avec boîte aux lettres\",\"652\":\"Chaloupe avec une étoile\",\"396\":\"Oeuf de Dragoeuf enfoui\",\"490\":\"Rouleau de métal accroché\",\"366\":\"Dessin de Koalak\",\"655\":\"Statue de faucheur\",\"248\":\"Séchoir à viande\",\"704\":\"Chacha noir\",\"748\":\"Ballon Bouftou\",\"265\":\"Paquet Pandawa\",\"282\":\"Tente\",\"454\":\"Robot cassé\",\"524\":\"Wo Wabbit endormi\",\"150\":\"Volatile sombre\",\"47\":\"Sac\",\"307\":\"Kaniglou gelé\",\"151\":\"Statue Koalak\",\"293\":\"Traineau\",\"674\":\"Caisse de boucher\",\"279\":\"Canon\",\"923\":\"Coffre recouvert de mousse\",\"556\":\"Écharpe\",\"705\":\"Pieu avec des os\",\"58\":\"Tonnelle\",\"337\":\"Statue décapitée\",\"726\":\"Drapeau de Vulkania\",\"718\":\"Volatile squelette\",\"931\":\"Borne\",\"681\":\"Tube feuillu\",\"105\":\"Caisse\",\"329\":\"Fagots de branches\",\"483\":\"Echelle cassée\",\"424\":\"Crabe effrayant\",\"631\":\"Rocher sculpté\",\"38\":\"Statue à queue pointue\",\"940\":\"Butoir en os\",\"728\":\"Soutien-gorge\",\"938\":\"Likrone\",\"49\":\"Statue\",\"304\":\"Caisses empilées cachées par des planches\",\"675\":\"Zaapi\",\"555\":\"Chasse-neige\",\"183\":\"Stèle en bois\",\"509\":\"Panneau 'Eleveurs'\",\"417\":\"Fenêtre avec tissu\",\"474\":\"Etendard de cordonnier\",\"179\":\"Bouclier gelé\",\"443\":\"Trappe sombre à 9 trous\",\"277\":\"Pilier en pierre\",\"659\":\"Souche avec des petites pousses\",\"602\":\"Tonneau rempli d'outils\",\"669\":\"Aventurier gelé\",\"942\":\"Statue Ouginak\",\"906\":\"Feu éteint\",\"383\":\"Oeuf avec marmaille\",\"33\":\"Statue Osamodas\",\"618\":\"Queue de dragon\",\"515\":\"Plan de bricolage\",\"220\":\"Totem de Moon couché\",\"441\":\"Trappe\",\"87\":\"Souche qui ne repousse pas\",\"247\":\"Catapulte\",\"590\":\"Plante carnivore\",\"585\":\"Fissure\",\"751\":\"Fosse commune\",\"536\":\"Tonneau de peinture\",\"376\":\"Voile pirate\",\"598\":\"Arbre transpercé\",\"266\":\"Piquet en bois\",\"91\":\"Silo\",\"715\":\"Citerne\",\"927\":\"Tonneau détruit\",\"656\":\"Sac de charbon\",\"180\":\"Epouvantail Minotoror\",\"125\":\"Chaise de plage\",\"249\":\"Brochette de Tofu\",\"908\":\"Pot en ossements\",\"768\":\"Statue avec des dagues\",\"554\":\"Arbre bonbon\",\"514\":\"Tas de peaux\",\"682\":\"Caisse de coraux\",\"941\":\"Tombe Ouginak\",\"457\":\"Jardinière carrée\",\"552\":\"Totem avec des bois\",\"291\":\"Boîte à outils\",\"36\":\"Statue Xélor\",\"911\":\"Statue Huppermage\",\"460\":\"Drapeau du Comte\",\"352\":\"Coffre pris dans la neige\",\"721\":\"Trace d'ours\",\"250\":\"Tour de guet\",\"463\":\"Quintaine\",\"547\":\"Cabane avec porte en toile\",\"775\":\"Chacha pris dans une toile\",\"665\":\"Roulotte transpercée\",\"145\":\"Totem\",\"209\":\"Seau flottant\",\"399\":\"Tonneau de tentacules\",\"917\":\"Roulotte carbonisée\",\"71\":\"Duo d'étoiles de mer\",\"373\":\"Squelette de capitaine pirate\",\"752\":\"Chevalet\",\"626\":\"Os en bois\",\"361\":\"Banque\",\"158\":\"Statue Dragodinde\",\"641\":\"Seau de pierres précieuses\",\"336\":\"Barre de métal courbée\",\"772\":\"Flamèche sur un ponton\",\"644\":\"Bateau en papier\",\"201\":\"Attelage de Bouftous\",\"402\":\"Poisson accroché par la queue\",\"438\":\"Observateur furtif\",\"313\":\"Kaniglou et sa coiffe de glace\",\"777\":\"Grand coquillage\",\"409\":\"Dessin de Bwork\",\"419\":\"Coquillage rayé\",\"217\":\"Puits non couvert\",\"713\":\"Crâne cornu sur un piquet\",\"67\":\"Etoile de mer\",\"231\":\"Patte de Dragon\",\"439\":\"Bombarde\",\"486\":\"Main de monstre\",\"358\":\"Caisse cachée par une planche\",\"776\":\"Tombe en bois\",\"309\":\"Mansot et son poisson gelés\",\"528\":\"Etendard Bouftou\",\"960\":\"Peau d'Ecaflip\",\"294\":\"Traineau piloté par un Mansot\",\"117\":\"Chariot de Cawottes\",\"640\":\"Panneau 'Fonderie'\",\"649\":\"Chaloupe renversée\",\"667\":\"Flèche cassée\",\"694\":\"Lance\",\"780\":\"Cercueil en bois\",\"184\":\"Stèle en pierre\",\"593\":\"Plante pomme de pin\",\"74\":\"Arrosoir\",\"504\":\"Panneau 'Forgerons'\",\"221\":\"Papillon\",\"110\":\"Banc\",\"322\":\"Poisson qui cuit\",\"636\":\"Arche rocheuse\",\"403\":\"Poisson avec la tête en bas\",\"933\":\"Squelette de mineur\",\"666\":\"Panier d'oeufs\",\"273\":\"Grande plaque verticale en pierre\",\"710\":\"Panneau couvert\",\"747\":\"Ballon Tofu\",\"613\":\"Globe étoilé\",\"113\":\"Roseaux\",\"237\":\"Rafiot\",\"107\":\"Poubelle\",\"306\":\"Créature gelée\",\"475\":\"Tonneau rempli de lannières de cuir\",\"331\":\"Tube ouvert\",\"597\":\"Arbre rempli de crânes\",\"754\":\"Roulotte à jouets\",\"594\":\"Souche avec un champignon\",\"281\":\"Statue Lenald décapitée\",\"187\":\"Sac rapiécé\",\"628\":\"Pierre taillée\",\"561\":\"Caisse d'outils\",\"437\":\"Charrette cassée\",\"400\":\"Etalage de poisson\",\"469\":\"Epée\",\"104\":\"Silo vide\",\"557\":\"Moulin\",\"661\":\"Jouet Bouftou\",\"708\":\"Poisson toxique\",\"511\":\"Peau étendue\",\"28\":\"Statue Crâ\",\"56\":\"Canne à pêche\",\"240\":\"Caisse de fruits rouges\",\"634\":\"Os dessiné\",\"779\":\"Piège\",\"650\":\"Barque avec une étoile\",\"375\":\"Barre\",\"261\":\"Tofu mort\",\"499\":\"Chaîne\",\"386\":\"Bâton avec une corde\",\"762\":\"Charrette à deux roues\",\"340\":\"Croix tombale\",\"86\":\"Pioche\",\"527\":\"Foreuse plantée\",\"481\":\"Entrée d'égoûts\",\"961\":\"Peau de Kanigrou\",\"716\":\"Château d'eau\",\"216\":\"Puits tâché\",\"428\":\"Piston\",\"27\":\"Phénix\",\"711\":\"Ballon accroché\",\"29\":\"Statue Eniripsa\",\"719\":\"Squelette d'humanoïde empalé\",\"531\":\"Bouftou mort\",\"525\":\"Wabbits perchés\",\"109\":\"Etendoir à linge\",\"267\":\"Distributeur de liqueur\",\"42\":\"Statue Lhambadda\",\"162\":\"Feuilles de papier\",\"44\":\"Planche\",\"725\":\"Cawotte gelée\",\"533\":\"Blason en peau\",\"542\":\"Blason ossements\",\"442\":\"Trappe sombre\",\"537\":\"Pinceau usagé\",\"312\":\"Mansot et sa cawotte gelés\",\"465\":\"Minotoror\",\"572\":\"Chapeau du marié\",\"677\":\"Serviette de plage\",\"543\":\"Blason longues dents\",\"584\":\"Trace de griffes\",\"318\":\"Tonneau de poisson\",\"343\":\"Fumerolle bouchée\",\"928\":\"Tonneau enfoui\",\"118\":\"Rondelles de Cawottes\",\"724\":\"Citrouille gelée\",\"177\":\"Bouclier à cornes\",\"171\":\"Bouclier Wabbit\",\"913\":\"Champignon sur un arbre\",\"235\":\"Fontaine\",\"152\":\"Statue de classe\",\"676\":\"Ballon\",\"657\":\"Viande suspendue\",\"116\":\"Chariot\",\"592\":\"Plante tentaculaire\",\"122\":\"Objet de désir\",\"39\":\"Statue Pandawa\",\"783\":\"Squelette de poisson\",\"246\":\"Bouée\",\"723\":\"Tonneau porté\",\"622\":\"Dessin de Koalak armé\",\"746\":\"Sac de bonbons\",\"305\":\"Sapin en filet\",\"758\":\"Arrosoir mécanique\",\"262\":\"Cage\",\"251\":\"Cible\",\"94\":\"Parasol\",\"767\":\"Drapeau en slip\",\"734\":\"Affiche de tortue\",\"453\":\"Robot avec 2 yeux\",\"141\":\"Flèche\",\"919\":\"Roulotte fumante\",\"40\":\"Statue Zobal\",\"467\":\"Epouvantail\",\"468\":\"Ratelier d'armes\",\"163\":\"Oiseau aux yeux globuleux\",\"755\":\"Bestiole géante en bois\",\"541\":\"Blason trace de patte\",\"77\":\"Barque\",\"580\":\"Seau suspendu\",\"544\":\"Pendentif de sorcière\",\"952\":\"Champignon en pierre\",\"310\":\"Kaniglou et sa cawotte gelés\",\"778\":\"Wabbit gelé\",\"156\":\"Tombe\",\"178\":\"Bouclier à pointes\",\"498\":\"Maillons\",\"270\":\"Crustacé\",\"959\":\"Statue avec un trident\",\"452\":\"Robot avec une pince\",\"702\":\"Porte de cave\",\"489\":\"Rouleau de métal\",\"395\":\"Oeuf de volatile\",\"532\":\"Cible Bouftou\",\"500\":\"Panneau 'Alchimistes'\",\"550\":\"Cabane sans plancher\",\"204\":\"Objet flottant\",\"914\":\"Tombe ouverte\",\"954\":\"Echelle en os\",\"195\":\"Bernard-l ermite\",\"551\":\"Cabane sans toit\",\"418\":\"Seau de sable\",\"507\":\"Panneau 'Sculpteurs'\",\"630\":\"Fleur spiralée\",\"540\":\"Blason Kanigrou\",\"722\":\"Lampadaire en os\",\"508\":\"Panneau 'Bûcherons'\",\"345\":\"Source chaude\",\"505\":\"Panneau 'Tailleurs'\",\"646\":\"Bitte d'amarrage\",\"619\":\"Tonneau de Kamas\",\"174\":\"Bouclier barré\",\"476\":\"Rouleau de tissu\",\"271\":\"Coquillage et sa perle\",\"382\":\"Oeuf dans son nid\",\"70\":\"Etoile de mer avec un oeil\",\"920\":\"Statue de crabe\",\"299\":\"Panneau avec 3 directions\",\"182\":\"Stèle\",\"692\":\"Caisse flottante\",\"706\":\"Pot en forme de crâne\",\"142\":\"Botte\",\"222\":\"Rocher Bouftou\",\"621\":\"Bac de laine\",\"90\":\"Eolienne\",\"367\":\"Seau de peinture\",\"610\":\"Coffre moustachu enfoui\",\"272\":\"Anémone\",\"686\":\"Jarre ouverte\",\"161\":\"Statue Dragodinde sans socle\",\"512\":\"Peau de Fricochère\",\"518\":\"Epaulière\",\"502\":\"Panneau 'Bricoleurs'\",\"311\":\"Mansot et son poisson et sa cawotte gelés\",\"263\":\"Statue Pandawa guérisseur\",\"583\":\"Dessin de Dragodinde\",\"447\":\"Trappe lumineuse à 16 trous\",\"738\":\"Crâne de Givrefoux\",\"456\":\"Jardinière\",\"253\":\"Robinet\",\"108\":\"Ancre\",\"461\":\"Baliste\",\"257\":\"Coffre\",\"229\":\"Colonne vertébrale imposante\",\"458\":\"Jardinière en engrenage\",\"962\":\"Tuyau géant\",\"123\":\"Bûche phallique\",\"749\":\"Boîte à outils\",\"285\":\"Tente de Mulou\",\"526\":\"Foreuse Wabbit\",\"228\":\"Squelette d'humanoïde\",\"219\":\"Dépouille brûlée\",\"510\":\"Casque\",\"633\":\"Rocher troué\",\"910\":\"Statue Roublard\",\"328\":\"Grue\",\"164\":\"Volatile aux yeux globuleux\",\"202\":\"Roue en bois\",\"102\":\"Râteau\",\"168\":\"Bouclier de Pandala\",\"72\":\"Sac de farine\",\"916\":\"Tambour\",\"37\":\"Statue Sacrieur\",\"750\":\"Boîte de pizzas\",\"360\":\"Traineau pris dans la neige\",\"140\":\"Arc\",\"278\":\"Squelette de Boufmouth\",\"114\":\"Chariot de mineur\",\"157\":\"Tombe Koalak\",\"379\":\"Oeuf de volatile cassé\",\"769\":\"Caisse mystère\",\"239\":\"Chaudière\",\"76\":\"Seau de forgeron\",\"699\":\"Chaîne mouillée\",\"653\":\"Charette de céréales\",\"587\":\"Arbre creux\",\"242\":\"Totem Kanniboul triste\",\"353\":\"Tonneau pris dans la neige\",\"737\":\"Croix lumineuse\",\"680\":\"Os pris dans la glace\",\"106\":\"Caisse explosive\",\"535\":\"Marteau-piqueur\",\"146\":\"Transporteur\",\"764\":\"Lance avec des os\",\"124\":\"Drapeau Wabbit\",\"662\":\"Arbre à Chacha\",\"958\":\"Piège à mâchoire\",\"651\":\"Rafiot avec une étoile\",\"564\":\"Coiffe\",\"729\":\"Tas de fourrures\",\"611\":\"Chariot de pierres\",\"956\":\"Pompe géante\",\"513\":\"Peau de Givrefoux\",\"935\":\"Fontaine sanguinolente\",\"743\":\"Centrale thermique\",\"690\":\"Flèche plantée dans le sol\",\"523\":\"Wabbit pêcheur\",\"720\":\"Scie\",\"444\":\"Trappe sombre à 16 trous\",\"166\":\"Bouclier\",\"529\":\"Rouleau de laine\",\"292\":\"Bottes suspendues\",\"290\":\"Pot d'huile\",\"255\":\"Astrolabe sphérique\",\"99\":\"Nichoir de Piou\",\"138\":\"Ossements\",\"112\":\"Seau vide\",\"503\":\"Panneau 'Boulangers'\",\"143\":\"Panneau avec tête de mort\",\"422\":\"Affiche de crabe\",\"238\":\"Chaloupe\",\"648\":\"Rafiot renversé\",\"663\":\"Griffoir\",\"915\":\"Cerceuil enfoui\",\"687\":\"Jarre fermée\",\"696\":\"Panneau d'affichage\",\"545\":\"Cabane en bois\",\"472\":\"Barricade\",\"485\":\"Seau d'arêtes\",\"198\":\"Charrette géante en bois\",\"440\":\"Longue vue\",\"335\":\"Charrette avec un ballot de paille\",\"301\":\"Tapis en peau de monstre\",\"643\":\"Bateau échoué\",\"121\":\"Bijoux de famille\",\"609\":\"Coffre moustachu\",\"517\":\"Armure\",\"936\":\"Goule pendue\",\"155\":\"Statue cyclope\",\"612\":\"Pierre triangulaire\",\"46\":\"Abreuvoir en pierre\",\"66\":\"Marteau\",\"773\":\"Tronc creux couché\",\"918\":\"Roulotte brûlée\",\"188\":\"Masse enfoncée dans le sol\",\"599\":\"Fleur verte\",\"414\":\"Ciseaux et peigne\",\"606\":\"Chariot rempli d'or\",\"420\":\"Affiche\",\"450\":\"Robot\",\"620\":\"Statue de Centaure\",\"189\":\"Trident planté\",\"314\":\"Mansot et sa coiffe de glace\",\"566\":\"Dora Bora\",\"629\":\"Masse d'armes végétale\",\"955\":\"Coffre porté par un Pandawa\",\"280\":\"Statue Lenald\",\"425\":\"Monstre marin\",\"578\":\"Branche cassée\",\"199\":\"Charrette géante en bois vide\",\"538\":\"Pierres suspendues\",\"939\":\"Goule coincée\",\"406\":\"Etendard avec un seul os\",\"909\":\"Guirlande d'os\",\"330\":\"Rondin de bois\",\"464\":\"Quintaine Minotoror\",\"321\":\"Pelle\",\"434\":\"Cible d'un archer débutant\",\"451\":\"Géant de fer\",\"297\":\"Traineau recouvert d'une couverture\",\"32\":\"Statue Iop\",\"230\":\"Squelette de Dragon\",\"371\":\"Squelette de matelot pirate\",\"139\":\"Crâne de Dragon\",\"53\":\"Outil\",\"491\":\"Tête de mort en pavés\",\"135\":\"Boîte aux lettres\",\"521\":\"Wabbit peintre\",\"350\":\"Engrenage\",\"227\":\"Squelette de Dragodinde\",\"407\":\"Etendard feuillu\",\"398\":\"Oeuf surprise\",\"252\":\"Scaphandre\",\"259\":\"Phare\",\"717\":\"Noix de Kokoko ouverte\",\"530\":\"Sac de laine\",\"75\":\"Seau\",\"215\":\"Puits couvert\",\"26\":\"Statue Ecaflip\",\"57\":\"Attrape poisson\",\"173\":\"Bouclier en peau noire et blanche\",\"303\":\"Planches contre deux caisses\",\"947\":\"Ballon Dragodinde\",\"770\":\"Caisse médicale\",\"944\":\"Pyramide d'os\",\"436\":\"Coffre enfoui\",\"473\":\"Main\",\"308\":\"Mansot gelé\",\"647\":\"Barque renversée\",\"660\":\"Jouet Tofu\",\"520\":\"Casque à visière\",\"232\":\"Aile de Dragon squelettique\",\"55\":\"Pince\",\"645\":\"Bocal\",\"562\":\"Bouteille\",\"516\":\"Affiche de bricolage\",\"615\":\"Dragon en or\",\"730\":\"Squelette sur un banc\",\"563\":\"Chapeau\",\"761\":\"Téléscope\",\"568\":\"Coiffe du Bouftou royal\",\"298\":\"Traineau avec un coussin\",\"546\":\"Cabane avec plancher\",\"423\":\"Affiche de nourriture\",\"275\":\"Jarre\",\"93\":\"Ballot de paille sur une charrette\",\"394\":\"Oeuf de Dragoeuf\",\"225\":\"Squelette d'humanoïde allongé\",\"92\":\"Ballot de paille\",\"934\":\"Goule empalée\",\"170\":\"Bouclier Iop\",\"315\":\"Manomètre\",\"435\":\"Tente cornue de Mulou fléché\",\"323\":\"Tonneau couché\",\"30\":\"Statue Enutrof\",\"73\":\"Sac de boulanger\",\"172\":\"Bouclier croissant de lune\",\"245\":\"Roulotte\",\"347\":\"Tripode à vapeur\",\"570\":\"Le Floude\",\"957\":\"Bicyclette\",\"160\":\"Statue Dragodinde allumée\",\"608\":\"Sac de Kamas noué\",\"707\":\"Panneau étoilé\",\"501\":\"Panneau 'Bijoutiers'\",\"627\":\"Trou\",\"736\":\"Barge\",\"455\":\"Visse géante\",\"148\":\"Oiseau noir\",\"586\":\"Rocher fendu\",\"712\":\"Chariot à viande\",\"624\":\"Lance plantée\",\"120\":\"Puits\",\"462\":\"Cible en paille\",\"416\":\"Viande de Bouftou accrochée\",\"930\":\"Roulotte enfouie\",\"244\":\"Totem Kanniboul cornu\",\"744\":\"Cible en paille sur roulettes\",\"387\":\"Mangeoire\",\"595\":\"Rocher sacrificiel\",\"480\":\"Pomme fourrée\",\"658\":\"Saucisse suspendue\",\"226\":\"Squelette d'humanoïde suppliant\",\"300\":\"Panneau 'Chute de pierres'\",\"459\":\"Jardinière en double engrenage\",\"211\":\"Sac flottant\",\"405\":\"Etendard avec des os\",\"771\":\"Seringue géante\",\"672\":\"Coquillage conique\",\"136\":\"Echelle\",\"401\":\"Poisson suspendu\",\"296\":\"Traîneau rempli de bois\",\"342\":\"Fumerolle\",\"103\":\"Fourche\",\"374\":\"Squelette de pirate sur un tonneau\",\"488\":\"Grande bière\",\"519\":\"Casque à plume\",\"169\":\"Bouclier cochon\",\"781\":\"Broyeur\",\"493\":\"Statue impressionante\",\"739\":\"Banc cassé\",\"287\":\"Boîte à outils\",\"286\":\"Tente cornue de Mulou\",\"614\":\"Coffre d'amour\",\"159\":\"Statue Dragodinde éteinte\",\"385\":\"Pagaie\",\"623\":\"Dessin de squelette Koalak\",\"575\":\"Casque Citrouille\",\"363\":\"Arbre calciné couché\",\"625\":\"Panneau 'Os'\",\"397\":\"Oeuf de Dragoeuf cassé\",\"34\":\"Statue Sadida\",\"205\":\"Bouteille flottante\",\"683\":\"Carton\",\"642\":\"Tonneau ficelé\",\"448\":\"Bobine encordée\",\"567\":\"Coiffe du Bouftou\",\"596\":\"Arbre à lanterne\",\"714\":\"Panneau avec un oeil\",\"210\":\"Sac flottant\",\"325\":\"Coffre cadenassé\",\"203\":\"Entrée de mine en bois\",\"130\":\"Epouvantail\",\"236\":\"Planche de glisse\",\"565\":\"Couvre-chef\",\"925\":\"Cage avec une goule\",\"522\":\"Wabbit endormi\",\"218\":\"Cadavre calciné\",\"668\":\"Feu de camp\",\"415\":\"Bouftou suspendu\",\"487\":\"Planches suspendues\",\"929\":\"Roulotte laboratoire\",\"133\":\"Pont en pierre\",\"703\":\"Réservoir\",\"582\":\"Peluche Koalak\",\"349\":\"Caisse prise dans la neige\",\"185\":\"Panneau de pêcheur\",\"693\":\"Bombe\",\"670\":\"Palette en bois\",\"64\":\"Abreuvoir\",\"601\":\"Dalle en forme de Kama\",\"101\":\"Brouette de citrouilles\",\"59\":\"Abri en toile\",\"637\":\"Plante éventail\",\"496\":\"Monture de pierre\",\"664\":\"Roulotte cassée\",\"243\":\"Totem Kanniboul colérique\",\"638\":\"Seau renversé\",\"697\":\"Sac de Tofus\",\"319\":\"Filet de fruits\",\"348\":\"Panneau 'Volcan'\",\"639\":\"Tofu enfourché\",\"207\":\"Chapeau flottant\",\"208\":\"Sac flottant\",\"632\":\"Corbac écrasé\",\"378\":\"Oeuf\",\"258\":\"Totem Bouftou en bois\",\"757\":\"Voiture en bois\",\"560\":\"Moulin sans toit\",\"740\":\"Crâne peint\",\"241\":\"Totem Kanniboul joyeux\",\"377\":\"Bateau détruit\",\"553\":\"Citrouille perchée\",\"654\":\"Tracteur\",\"912\":\"Amphore\",\"943\":\"Monocycle\",\"684\":\"Rondins de bambou\",\"89\":\"Brouette\",\"48\":\"Panneau\",\"115\":\"Charrette\",\"384\":\"Cocktail\",\"196\":\"Charrette de laine de Bouftou\",\"197\":\"Charrette mordillée\",\"445\":\"Trappe lumineuse\",\"905\":\"Poupée\",\"429\":\"Menhir\",\"351\":\"Lampadaire\",\"732\":\"Sous-vêtement\",\"324\":\"Tonneau couché avec robinet\",\"766\":\"Enclume\",\"288\":\"Tente en cours de construction\",\"260\":\"Panneau d'enclos\",\"274\":\"Tonneau\",\"581\":\"Epée plantée\",\"948\":\"Roulotte fongique\",\"212\":\"Volatile flottant\",\"709\":\"Barque au mât cassé\",\"368\":\"Canne à pêche plantée dans une caisse\",\"765\":\"Réservoir d'eau\",\"559\":\"Support d'ailes de moulin\",\"574\":\"Casque pour l île de Moon\",\"907\":\"Tente de foire\",\"756\":\"Chaise de maître nageur\",\"332\":\"Tube d'alchimiste\",\"953\":\"Os avec un boulet\",\"295\":\"Traineau détruit\",\"569\":\"Krokop\",\"497\":\"Pierre précieuse\",\"284\":\"Tente cornue de Sanglier\",\"688\":\"Tonneau explosif\",\"338\":\"Cloche\",\"760\":\"Toilettes\",\"484\":\"Sac suspendu\",\"733\":\"Culotte\",\"921\":\"Squelette de Droupik\",\"449\":\"Rouleau de métal posé sur la tranche\",\"492\":\"Tofu épinglé\",\"589\":\"Plante épineuse\",\"31\":\"Statue Féca\",\"276\":\"Champignon\",\"43\":\"Panneau de Kerubim\",\"689\":\"Tonneau flottant\",\"404\":\"Étendard\"}";

            JObject jsonObject = JObject.Parse(dofusHuntValues);
            foreach (var child in jsonObject)
            {
                try
                {
                    if (child.Value.ToString().StartsWith("Panneau '"))
                        DofusHuntValues.Add(child.Value.ToString().Replace('\'', '"'), int.Parse(child.Key));
                    else
                        DofusHuntValues.Add(child.Value.ToString(), int.Parse(child.Key));

                }
                catch (Exception e)
                {
                    Console.WriteLine(child.Key + " " + child.Value);

                }

            }
        }

        private static Dictionary<string, int> DofusHuntValues = new Dictionary<string, int>();

        public static Dictionary<int, Indice> indices = null;
        public static void getData(Point position, int direction, int indiceToFind)
        {
            Console.WriteLine("looking for : " + D2OParsing.GetPoiName(indiceToFind) + " FROM : " + position.x + " " + position.y + " " + getDir(direction));
            indices = new Dictionary<int, Indice>();
            string html = string.Empty;
            string url = @"http://dofus-map.com/huntTool/getData.php?x=" + position.x + "&y=" + position.y + "&direction=" + getDir(direction) + "&world=0&language=fr";

            HttpWebRequest request = (HttpWebRequest)WebRequest.Create(url);
            request.AutomaticDecompression = DecompressionMethods.GZip;

            using (HttpWebResponse response = (HttpWebResponse)request.GetResponse())
            using (Stream stream = response.GetResponseStream())
            using (StreamReader reader = new StreamReader(stream))
            {
                html = reader.ReadToEnd();
            }
            JObject jsonObject = JObject.Parse(html);
            JToken indicesInfos = jsonObject.GetValue("hints");
            foreach (JToken indiceInfo in indicesInfos.Children())
            {
                //Console.WriteLine("n : " + indiceInfo.SelectToken("n") + " x :" + (int)indiceInfo.SelectToken("x"));
                indices.Add(int.Parse(indiceInfo.SelectToken("n").ToString()), new Indice(int.Parse(indiceInfo.SelectToken("n").ToString()), new Point(int.Parse(indiceInfo.SelectToken("x").ToString()), int.Parse(indiceInfo.SelectToken("y").ToString())), int.Parse(indiceInfo.SelectToken("d").ToString())));
            }
            int indiceDofusHuntToFind = DofusHuntValues[D2OParsing.GetPoiName(indiceToFind)];
            Indice indice = indices[indiceDofusHuntToFind];
            Console.WriteLine(D2OParsing.GetPoiName(indiceToFind) + " : \n" + indice.position.x + ";" + indice.position.y + " : " + indice.direction + " cases vers " + getDir(direction));
            MessageHandler.mapToGo = indice.position;
        }



        public static string getDir(int dir)
        {
            switch (dir)
            {
                case 0:
                    return "right";
                case 2:
                    return "bottom";
                case 4:
                    return "left";
                case 6:
                    return "top";
            }

            return null;
        }
    }
}
